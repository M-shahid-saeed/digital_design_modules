`include "transaction.sv"
`include "generator.sv"
`include "counter_driver.sv"
`include "counter_monitor.sv"
`include "counter_scoreboard.sv"


class counter_environment;
generator gen;
counter_driver drv;
counter_scoreboard scb;
counter_monitor mon;
mailbox mbx;
mailbox mon2scb;
event gen_done;
virtual counter_intf vif;
function new(virtual counter_intf vif)
this.vif=vif;
mbx = new();
mon2scb = new();
gen=new(mbx,gen_done);
drv=new(mbx,vif);
mon=new(vif,mon2scb);
scb=new(mon2scb);
endfunction
task run();
fork
gen.run();
drv.run();
mon.run();
scb.run();
join_any
endtask
endclass

 